{"ast":null,"code":"const timeOffsets = {\n  \"major\": {\n    \"future\": 90,\n    \"past\": 1000\n  },\n  \"minor\": {\n    \"future\": 21,\n    \"past\": 1000\n  }\n};\nconst maxPastMinorEvents = 4;\nconst maxPastMajorEvents = 2;\nconst fetchEvents = async (past = false) => {\n  const API_KEY = \"AIzaSyA40eo7r7qepeP-wHgbFz4c4TUq_dNkydk\";\n  const CALENDAR_ID = \"1e79b55343290be5c7bf935f61f48f8906b1e91d26116edc26b9ebbfe16d6cf8@group.calendar.google.com\";\n  const MAJOR_CALENDAR_ID = \"e02db2fdfdf2fba777e3d5e451b87c7f7a7e5a82716006da59a5052e04b6a964@group.calendar.google.com\";\n  const now = new Date();\n\n  // Minor events time range\n  const rangeStartBase = new Date(now);\n  const rangeEndBase = new Date(now);\n  if (past) {\n    rangeStartBase.setDate(now.getDate() - timeOffsets.minor.past);\n    rangeEndBase.setDate(now.getDate());\n  } else {\n    rangeStartBase.setDate(now.getDate());\n    rangeEndBase.setDate(now.getDate() + timeOffsets.minor.future);\n  }\n\n  // Major events time range\n  const rangeStartMajor = new Date(now);\n  const rangeEndMajor = new Date(now);\n  if (past) {\n    rangeStartMajor.setDate(now.getDate() - timeOffsets.major.past);\n    rangeEndMajor.setDate(now.getDate() - 1);\n  } else {\n    rangeStartMajor.setDate(now.getDate() - 1);\n    rangeEndMajor.setDate(now.getDate() + timeOffsets.major.future);\n  }\n  const timeMin_base = rangeStartBase.toISOString();\n  const timeMax_base = rangeEndBase.toISOString();\n  const timeMin_major = rangeStartMajor.toISOString();\n  const timeMax_major = rangeEndMajor.toISOString();\n  const url_base = `https://www.googleapis.com/calendar/v3/calendars/${CALENDAR_ID}/events?key=${API_KEY}&timeMin=${timeMin_base}&timeMax=${timeMax_base}&singleEvents=true&orderBy=startTime`;\n  const url_major = `https://www.googleapis.com/calendar/v3/calendars/${MAJOR_CALENDAR_ID}/events?key=${API_KEY}&timeMin=${timeMin_major}&timeMax=${timeMax_major}&singleEvents=true&orderBy=startTime`;\n  try {\n    const [response_base, response_major] = await Promise.all([fetch(url_base), fetch(url_major)]);\n    const [data_base, data_major] = await Promise.all([response_base.json(), response_major.json()]);\n    let minorEvents = data_base.items || [];\n    let majorEvents = data_major.items || [];\n\n    // Sort both descending (most recent first)\n    if (past) {\n      minorEvents.sort((a, b) => new Date(b.start.dateTime || b.start.date) - new Date(a.start.dateTime || a.start.date));\n      majorEvents.sort((a, b) => new Date(b.start.dateTime || b.start.date) - new Date(a.start.dateTime || a.start.date));\n      minorEvents = minorEvents.slice(0, maxPastMinorEvents); // Limit to 4\n      majorEvents = majorEvents.slice(0, maxPastMajorEvents); // Limit to 2\n    }\n    const combinedEvents = [...minorEvents, ...majorEvents];\n    combinedEvents.sort((a, b) => {\n      const dateA = new Date(a.start.dateTime || a.start.date).getTime();\n      const dateB = new Date(b.start.dateTime || b.start.date).getTime();\n      return past ? dateB - dateA : dateA - dateB;\n    });\n    return combinedEvents;\n  } catch (error) {\n    console.error(\"Error fetching events:\", error);\n    return [];\n  }\n};\nexport default fetchEvents;","map":{"version":3,"names":["timeOffsets","maxPastMinorEvents","maxPastMajorEvents","fetchEvents","past","API_KEY","CALENDAR_ID","MAJOR_CALENDAR_ID","now","Date","rangeStartBase","rangeEndBase","setDate","getDate","minor","future","rangeStartMajor","rangeEndMajor","major","timeMin_base","toISOString","timeMax_base","timeMin_major","timeMax_major","url_base","url_major","response_base","response_major","Promise","all","fetch","data_base","data_major","json","minorEvents","items","majorEvents","sort","a","b","start","dateTime","date","slice","combinedEvents","dateA","getTime","dateB","error","console"],"sources":["/home/everett/acm-website/src/components/fetchEvents.js"],"sourcesContent":["const timeOffsets = {\n  \"major\": {\n    \"future\": 90,\n    \"past\": 1000,\n  },\n  \"minor\": {\n    \"future\": 21,\n    \"past\": 1000,\n  },\n};\n\nconst maxPastMinorEvents = 4;\nconst maxPastMajorEvents = 2;\n\nconst fetchEvents = async (past = false) => {\n  const API_KEY = \"AIzaSyA40eo7r7qepeP-wHgbFz4c4TUq_dNkydk\";\n  const CALENDAR_ID = \"1e79b55343290be5c7bf935f61f48f8906b1e91d26116edc26b9ebbfe16d6cf8@group.calendar.google.com\";\n  const MAJOR_CALENDAR_ID = \"e02db2fdfdf2fba777e3d5e451b87c7f7a7e5a82716006da59a5052e04b6a964@group.calendar.google.com\";\n\n  const now = new Date();\n\n  // Minor events time range\n  const rangeStartBase = new Date(now);\n  const rangeEndBase = new Date(now);\n  if (past) {\n    rangeStartBase.setDate(now.getDate() - timeOffsets.minor.past);\n    rangeEndBase.setDate(now.getDate());\n  } else {\n    rangeStartBase.setDate(now.getDate());\n    rangeEndBase.setDate(now.getDate() + timeOffsets.minor.future);\n  }\n\n  // Major events time range\n  const rangeStartMajor = new Date(now);\n  const rangeEndMajor = new Date(now);\n  if (past) {\n    rangeStartMajor.setDate(now.getDate() - timeOffsets.major.past);\n    rangeEndMajor.setDate(now.getDate() - 1);\n  } else {\n    rangeStartMajor.setDate(now.getDate() - 1);\n    rangeEndMajor.setDate(now.getDate() + timeOffsets.major.future);\n  }\n\n  const timeMin_base = rangeStartBase.toISOString();\n  const timeMax_base = rangeEndBase.toISOString();\n  const timeMin_major = rangeStartMajor.toISOString();\n  const timeMax_major = rangeEndMajor.toISOString();\n\n  const url_base = `https://www.googleapis.com/calendar/v3/calendars/${CALENDAR_ID}/events?key=${API_KEY}&timeMin=${timeMin_base}&timeMax=${timeMax_base}&singleEvents=true&orderBy=startTime`;\n  const url_major = `https://www.googleapis.com/calendar/v3/calendars/${MAJOR_CALENDAR_ID}/events?key=${API_KEY}&timeMin=${timeMin_major}&timeMax=${timeMax_major}&singleEvents=true&orderBy=startTime`;\n\n  try {\n    const [response_base, response_major] = await Promise.all([\n      fetch(url_base),\n      fetch(url_major),\n    ]);\n\n    const [data_base, data_major] = await Promise.all([\n      response_base.json(),\n      response_major.json(),\n    ]);\n\n    let minorEvents = data_base.items || [];\n    let majorEvents = data_major.items || [];\n\n    // Sort both descending (most recent first)\n    if (past) {\n      minorEvents.sort((a, b) => new Date(b.start.dateTime || b.start.date) - new Date(a.start.dateTime || a.start.date));\n      majorEvents.sort((a, b) => new Date(b.start.dateTime || b.start.date) - new Date(a.start.dateTime || a.start.date));\n\n      minorEvents = minorEvents.slice(0, maxPastMinorEvents); // Limit to 4\n      majorEvents = majorEvents.slice(0, maxPastMajorEvents); // Limit to 2\n    }\n\n    const combinedEvents = [...minorEvents, ...majorEvents];\n\n    combinedEvents.sort((a, b) => {\n      const dateA = new Date(a.start.dateTime || a.start.date).getTime();\n      const dateB = new Date(b.start.dateTime || b.start.date).getTime();\n      return past ? dateB - dateA : dateA - dateB;\n    });\n\n    return combinedEvents;\n  } catch (error) {\n    console.error(\"Error fetching events:\", error);\n    return [];\n  }\n};\n\nexport default fetchEvents;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}