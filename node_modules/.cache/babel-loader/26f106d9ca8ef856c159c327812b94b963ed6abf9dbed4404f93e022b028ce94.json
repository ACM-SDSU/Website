{"ast":null,"code":"const timeOffsets={\"major\":{\"future\":90,\"past\":180},\"minor\":{\"future\":21,\"past\":28}};const fetchEvents=async function(){let past=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;const API_KEY=\"AIzaSyA40eo7r7qepeP-wHgbFz4c4TUq_dNkydk\";const CALENDAR_ID=\"1e79b55343290be5c7bf935f61f48f8906b1e91d26116edc26b9ebbfe16d6cf8@group.calendar.google.com\";const MAJOR_CALENDAR_ID=\"e02db2fdfdf2fba777e3d5e451b87c7f7a7e5a82716006da59a5052e04b6a964@group.calendar.google.com\";const now=new Date();// Base calendar: past 30 days or next 21 days\nconst rangeStartBase=new Date(now);const rangeEndBase=new Date(now);if(past){rangeStartBase.setDate(now.getDate()-timeOffsets.minor.past);rangeEndBase.setDate(now.getDate()-0);}else{rangeStartBase.setDate(now.getDate()-0);rangeEndBase.setDate(now.getDate()+timeOffsets.minor.future);}// Major calendar: past 120 days or next 60 days\nconst rangeStartMajor=new Date(now);const rangeEndMajor=new Date(now);if(past){rangeStartMajor.setDate(now.getDate()-timeOffsets.major.past);rangeEndMajor.setDate(now.getDate()-1);}else{rangeStartMajor.setDate(now.getDate()-1);rangeEndMajor.setDate(now.getDate()+timeOffsets.major.future);}const timeMin_base=rangeStartBase.toISOString();const timeMax_base=rangeEndBase.toISOString();const timeMin_major=rangeStartMajor.toISOString();const timeMax_major=rangeEndMajor.toISOString();const url_base=\"https://www.googleapis.com/calendar/v3/calendars/\".concat(CALENDAR_ID,\"/events?key=\").concat(API_KEY,\"&timeMin=\").concat(timeMin_base,\"&timeMax=\").concat(timeMax_base,\"&singleEvents=true&orderBy=startTime\");const url_major=\"https://www.googleapis.com/calendar/v3/calendars/\".concat(MAJOR_CALENDAR_ID,\"/events?key=\").concat(API_KEY,\"&timeMin=\").concat(timeMin_major,\"&timeMax=\").concat(timeMax_major,\"&singleEvents=true&orderBy=startTime\");try{const response=await fetch(url_base);const data_basic=await response.json();const response_major=await fetch(url_major);const data_major=await response_major.json();const combinedEvents=[...(data_basic.items||[]),...(data_major.items||[])];combinedEvents.sort((a,b)=>{const dateA=new Date(a.start.dateTime||a.start.date).getTime();const dateB=new Date(b.start.dateTime||b.start.date).getTime();return past?dateB-dateA:dateA-dateB;// Descending for past\n});return combinedEvents;}catch(error){console.error(\"Error fetching events:\",error);return[];}};export default fetchEvents;","map":{"version":3,"names":["timeOffsets","fetchEvents","past","arguments","length","undefined","API_KEY","CALENDAR_ID","MAJOR_CALENDAR_ID","now","Date","rangeStartBase","rangeEndBase","setDate","getDate","minor","future","rangeStartMajor","rangeEndMajor","major","timeMin_base","toISOString","timeMax_base","timeMin_major","timeMax_major","url_base","concat","url_major","response","fetch","data_basic","json","response_major","data_major","combinedEvents","items","sort","a","b","dateA","start","dateTime","date","getTime","dateB","error","console"],"sources":["/home/everett/acm-website/src/components/fetchEvents.js"],"sourcesContent":["const timeOffsets = {\n    \"major\": {\n        \"future\": 90,\n        \"past\": 180,\n    },\n    \"minor\": {\n        \"future\": 21,\n        \"past\": 28,\n    },\n}\n\nconst fetchEvents = async (past = false) => {\n    const API_KEY = \"AIzaSyA40eo7r7qepeP-wHgbFz4c4TUq_dNkydk\";\n    const CALENDAR_ID = \"1e79b55343290be5c7bf935f61f48f8906b1e91d26116edc26b9ebbfe16d6cf8@group.calendar.google.com\";\n    const MAJOR_CALENDAR_ID = \"e02db2fdfdf2fba777e3d5e451b87c7f7a7e5a82716006da59a5052e04b6a964@group.calendar.google.com\";\n  \n    const now = new Date();\n  \n    // Base calendar: past 30 days or next 21 days\n    const rangeStartBase = new Date(now);\n    const rangeEndBase = new Date(now);\n    if (past) {\n      rangeStartBase.setDate(now.getDate() - timeOffsets.minor.past);\n      rangeEndBase.setDate(now.getDate() - 0);\n    } else {\n      rangeStartBase.setDate(now.getDate() - 0);\n      rangeEndBase.setDate(now.getDate() + timeOffsets.minor.future);\n    }\n  \n    // Major calendar: past 120 days or next 60 days\n    const rangeStartMajor = new Date(now);\n    const rangeEndMajor = new Date(now);\n    if (past) {\n      rangeStartMajor.setDate(now.getDate() - timeOffsets.major.past);\n      rangeEndMajor.setDate(now.getDate() - 1);\n    } else {\n      rangeStartMajor.setDate(now.getDate() - 1);\n      rangeEndMajor.setDate(now.getDate() + timeOffsets.major.future);\n    }\n  \n    const timeMin_base = rangeStartBase.toISOString();\n    const timeMax_base = rangeEndBase.toISOString();\n    const timeMin_major = rangeStartMajor.toISOString();\n    const timeMax_major = rangeEndMajor.toISOString();\n  \n    const url_base = `https://www.googleapis.com/calendar/v3/calendars/${CALENDAR_ID}/events?key=${API_KEY}&timeMin=${timeMin_base}&timeMax=${timeMax_base}&singleEvents=true&orderBy=startTime`;\n    const url_major = `https://www.googleapis.com/calendar/v3/calendars/${MAJOR_CALENDAR_ID}/events?key=${API_KEY}&timeMin=${timeMin_major}&timeMax=${timeMax_major}&singleEvents=true&orderBy=startTime`;\n  \n    try {\n      const response = await fetch(url_base);\n      const data_basic = await response.json();\n  \n      const response_major = await fetch(url_major);\n      const data_major = await response_major.json();\n  \n      const combinedEvents = [...(data_basic.items || []), ...(data_major.items || [])];\n  \n      combinedEvents.sort((a, b) => {\n        const dateA = new Date(a.start.dateTime || a.start.date).getTime();\n        const dateB = new Date(b.start.dateTime || b.start.date).getTime();\n        return past ? dateB - dateA : dateA - dateB; // Descending for past\n      });\n  \n      return combinedEvents;\n    } catch (error) {\n      console.error(\"Error fetching events:\", error);\n      return [];\n    }\n  };\n  \nexport default fetchEvents;\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}