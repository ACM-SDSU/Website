{"ast":null,"code":"const timeOffsets={\"major\":{\"future\":90,\"past\":1000},\"minor\":{\"future\":28,\"past\":1000}};const maxPastMinorEvents=3;const maxPastMajorEvents=2;const fetchEvents=async function(){let past=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;const API_KEY=\"AIzaSyA40eo7r7qepeP-wHgbFz4c4TUq_dNkydk\";const CALENDAR_ID=\"1e79b55343290be5c7bf935f61f48f8906b1e91d26116edc26b9ebbfe16d6cf8@group.calendar.google.com\";const MAJOR_CALENDAR_ID=\"e02db2fdfdf2fba777e3d5e451b87c7f7a7e5a82716006da59a5052e04b6a964@group.calendar.google.com\";const now=new Date();// Minor events time range\nconst rangeStartBase=new Date(now);const rangeEndBase=new Date(now);if(past){rangeStartBase.setDate(now.getDate()-timeOffsets.minor.past);rangeEndBase.setDate(now.getDate());}else{rangeStartBase.setDate(now.getDate());rangeEndBase.setDate(now.getDate()+timeOffsets.minor.future);}// Major events time range\nconst rangeStartMajor=new Date(now);const rangeEndMajor=new Date(now);if(past){rangeStartMajor.setDate(now.getDate()-timeOffsets.major.past);rangeEndMajor.setDate(now.getDate()-1);}else{rangeStartMajor.setDate(now.getDate()-1);rangeEndMajor.setDate(now.getDate()+timeOffsets.major.future);}const timeMin_base=rangeStartBase.toISOString();const timeMax_base=rangeEndBase.toISOString();const timeMin_major=rangeStartMajor.toISOString();const timeMax_major=rangeEndMajor.toISOString();const url_base=\"https://www.googleapis.com/calendar/v3/calendars/\".concat(CALENDAR_ID,\"/events?key=\").concat(API_KEY,\"&timeMin=\").concat(timeMin_base,\"&timeMax=\").concat(timeMax_base,\"&singleEvents=true&orderBy=startTime\");const url_major=\"https://www.googleapis.com/calendar/v3/calendars/\".concat(MAJOR_CALENDAR_ID,\"/events?key=\").concat(API_KEY,\"&timeMin=\").concat(timeMin_major,\"&timeMax=\").concat(timeMax_major,\"&singleEvents=true&orderBy=startTime\");try{const[response_base,response_major]=await Promise.all([fetch(url_base),fetch(url_major)]);const[data_base,data_major]=await Promise.all([response_base.json(),response_major.json()]);let minorEvents=data_base.items||[];let majorEvents=data_major.items||[];// Sort both descending (most recent first)\nif(past){minorEvents.sort((a,b)=>new Date(b.start.dateTime||b.start.date)-new Date(a.start.dateTime||a.start.date));majorEvents.sort((a,b)=>new Date(b.start.dateTime||b.start.date)-new Date(a.start.dateTime||a.start.date));minorEvents=minorEvents.slice(0,maxPastMinorEvents);// Limit to 4\nmajorEvents=majorEvents.slice(0,maxPastMajorEvents);// Limit to 2\n}const combinedEvents=[...minorEvents,...majorEvents];combinedEvents.sort((a,b)=>{const dateA=new Date(a.start.dateTime||a.start.date).getTime();const dateB=new Date(b.start.dateTime||b.start.date).getTime();return past?dateB-dateA:dateA-dateB;});return combinedEvents;}catch(error){console.error(\"Error fetching events:\",error);return[];}};export default fetchEvents;","map":{"version":3,"names":["timeOffsets","maxPastMinorEvents","maxPastMajorEvents","fetchEvents","past","arguments","length","undefined","API_KEY","CALENDAR_ID","MAJOR_CALENDAR_ID","now","Date","rangeStartBase","rangeEndBase","setDate","getDate","minor","future","rangeStartMajor","rangeEndMajor","major","timeMin_base","toISOString","timeMax_base","timeMin_major","timeMax_major","url_base","concat","url_major","response_base","response_major","Promise","all","fetch","data_base","data_major","json","minorEvents","items","majorEvents","sort","a","b","start","dateTime","date","slice","combinedEvents","dateA","getTime","dateB","error","console"],"sources":["/home/everett/acm-website/src/components/fetchEvents.js"],"sourcesContent":["const timeOffsets = {\n  \"major\": {\n    \"future\": 90,\n    \"past\": 1000,\n  },\n  \"minor\": {\n    \"future\": 28,\n    \"past\": 1000,\n  },\n};\n\nconst maxPastMinorEvents = 3;\nconst maxPastMajorEvents = 2;\n\nconst fetchEvents = async (past = false) => {\n  const API_KEY = \"AIzaSyA40eo7r7qepeP-wHgbFz4c4TUq_dNkydk\";\n  const CALENDAR_ID = \"1e79b55343290be5c7bf935f61f48f8906b1e91d26116edc26b9ebbfe16d6cf8@group.calendar.google.com\";\n  const MAJOR_CALENDAR_ID = \"e02db2fdfdf2fba777e3d5e451b87c7f7a7e5a82716006da59a5052e04b6a964@group.calendar.google.com\";\n\n  const now = new Date();\n\n  // Minor events time range\n  const rangeStartBase = new Date(now);\n  const rangeEndBase = new Date(now);\n  if (past) {\n    rangeStartBase.setDate(now.getDate() - timeOffsets.minor.past);\n    rangeEndBase.setDate(now.getDate());\n  } else {\n    rangeStartBase.setDate(now.getDate());\n    rangeEndBase.setDate(now.getDate() + timeOffsets.minor.future);\n  }\n\n  // Major events time range\n  const rangeStartMajor = new Date(now);\n  const rangeEndMajor = new Date(now);\n  if (past) {\n    rangeStartMajor.setDate(now.getDate() - timeOffsets.major.past);\n    rangeEndMajor.setDate(now.getDate() - 1);\n  } else {\n    rangeStartMajor.setDate(now.getDate() - 1);\n    rangeEndMajor.setDate(now.getDate() + timeOffsets.major.future);\n  }\n\n  const timeMin_base = rangeStartBase.toISOString();\n  const timeMax_base = rangeEndBase.toISOString();\n  const timeMin_major = rangeStartMajor.toISOString();\n  const timeMax_major = rangeEndMajor.toISOString();\n\n  const url_base = `https://www.googleapis.com/calendar/v3/calendars/${CALENDAR_ID}/events?key=${API_KEY}&timeMin=${timeMin_base}&timeMax=${timeMax_base}&singleEvents=true&orderBy=startTime`;\n  const url_major = `https://www.googleapis.com/calendar/v3/calendars/${MAJOR_CALENDAR_ID}/events?key=${API_KEY}&timeMin=${timeMin_major}&timeMax=${timeMax_major}&singleEvents=true&orderBy=startTime`;\n\n  try {\n    const [response_base, response_major] = await Promise.all([\n      fetch(url_base),\n      fetch(url_major),\n    ]);\n\n    const [data_base, data_major] = await Promise.all([\n      response_base.json(),\n      response_major.json(),\n    ]);\n\n    let minorEvents = data_base.items || [];\n    let majorEvents = data_major.items || [];\n\n    // Sort both descending (most recent first)\n    if (past) {\n      minorEvents.sort((a, b) => new Date(b.start.dateTime || b.start.date) - new Date(a.start.dateTime || a.start.date));\n      majorEvents.sort((a, b) => new Date(b.start.dateTime || b.start.date) - new Date(a.start.dateTime || a.start.date));\n\n      minorEvents = minorEvents.slice(0, maxPastMinorEvents); // Limit to 4\n      majorEvents = majorEvents.slice(0, maxPastMajorEvents); // Limit to 2\n    }\n\n    const combinedEvents = [...minorEvents, ...majorEvents];\n\n    combinedEvents.sort((a, b) => {\n      const dateA = new Date(a.start.dateTime || a.start.date).getTime();\n      const dateB = new Date(b.start.dateTime || b.start.date).getTime();\n      return past ? dateB - dateA : dateA - dateB;\n    });\n\n    return combinedEvents;\n  } catch (error) {\n    console.error(\"Error fetching events:\", error);\n    return [];\n  }\n};\n\nexport default fetchEvents;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}