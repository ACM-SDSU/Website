{"ast":null,"code":"const goBack = {\n  \"major\": {\n    \"future\": 21,\n    \"past\": 30\n  },\n  \"minor\": {\n    \"future\": 60,\n    \"past\": 120\n  }\n};\nconst fetchEvents = async (past = false) => {\n  const API_KEY = \"AIzaSyA40eo7r7qepeP-wHgbFz4c4TUq_dNkydk\";\n  const CALENDAR_ID = \"1e79b55343290be5c7bf935f61f48f8906b1e91d26116edc26b9ebbfe16d6cf8@group.calendar.google.com\";\n  const MAJOR_CALENDAR_ID = \"e02db2fdfdf2fba777e3d5e451b87c7f7a7e5a82716006da59a5052e04b6a964@group.calendar.google.com\";\n  const now = new Date();\n\n  // Base calendar: past 30 days or next 21 days\n  const rangeStartBase = new Date(now);\n  const rangeEndBase = new Date(now);\n  if (past) {\n    rangeStartBase.setDate(now.getDate() - 30);\n    rangeEndBase.setDate(now.getDate() - 1);\n  } else {\n    rangeStartBase.setDate(now.getDate() - 1);\n    rangeEndBase.setDate(now.getDate() + 21);\n  }\n\n  // Major calendar: past 120 days or next 60 days\n  const rangeStartMajor = new Date(now);\n  const rangeEndMajor = new Date(now);\n  if (past) {\n    rangeStartMajor.setDate(now.getDate() - 120);\n    rangeEndMajor.setDate(now.getDate() - 1);\n  } else {\n    rangeStartMajor.setDate(now.getDate() - 1);\n    rangeEndMajor.setDate(now.getDate() + 60);\n  }\n  const timeMin_base = rangeStartBase.toISOString();\n  const timeMax_base = rangeEndBase.toISOString();\n  const timeMin_major = rangeStartMajor.toISOString();\n  const timeMax_major = rangeEndMajor.toISOString();\n  const url_base = `https://www.googleapis.com/calendar/v3/calendars/${CALENDAR_ID}/events?key=${API_KEY}&timeMin=${timeMin_base}&timeMax=${timeMax_base}&singleEvents=true&orderBy=startTime`;\n  const url_major = `https://www.googleapis.com/calendar/v3/calendars/${MAJOR_CALENDAR_ID}/events?key=${API_KEY}&timeMin=${timeMin_major}&timeMax=${timeMax_major}&singleEvents=true&orderBy=startTime`;\n  try {\n    const response = await fetch(url_base);\n    const data_basic = await response.json();\n    const response_major = await fetch(url_major);\n    const data_major = await response_major.json();\n    const combinedEvents = [...(data_basic.items || []), ...(data_major.items || [])];\n    combinedEvents.sort((a, b) => {\n      const dateA = new Date(a.start.dateTime || a.start.date).getTime();\n      const dateB = new Date(b.start.dateTime || b.start.date).getTime();\n      return past ? dateB - dateA : dateA - dateB; // Descending for past\n    });\n    return combinedEvents;\n  } catch (error) {\n    console.error(\"Error fetching events:\", error);\n    return [];\n  }\n};\nexport default fetchEvents;","map":{"version":3,"names":["goBack","fetchEvents","past","API_KEY","CALENDAR_ID","MAJOR_CALENDAR_ID","now","Date","rangeStartBase","rangeEndBase","setDate","getDate","rangeStartMajor","rangeEndMajor","timeMin_base","toISOString","timeMax_base","timeMin_major","timeMax_major","url_base","url_major","response","fetch","data_basic","json","response_major","data_major","combinedEvents","items","sort","a","b","dateA","start","dateTime","date","getTime","dateB","error","console"],"sources":["/home/everett/acm-website/src/components/fetchEvents.js"],"sourcesContent":["const goBack = {\n    \"major\": {\n        \"future\": 21,\n        \"past\": 30,\n    },\n    \"minor\": {\n        \"future\": 60,\n        \"past\": 120,\n    },\n}\n\nconst fetchEvents = async (past = false) => {\n    const API_KEY = \"AIzaSyA40eo7r7qepeP-wHgbFz4c4TUq_dNkydk\";\n    const CALENDAR_ID = \"1e79b55343290be5c7bf935f61f48f8906b1e91d26116edc26b9ebbfe16d6cf8@group.calendar.google.com\";\n    const MAJOR_CALENDAR_ID = \"e02db2fdfdf2fba777e3d5e451b87c7f7a7e5a82716006da59a5052e04b6a964@group.calendar.google.com\";\n  \n    const now = new Date();\n  \n    // Base calendar: past 30 days or next 21 days\n    const rangeStartBase = new Date(now);\n    const rangeEndBase = new Date(now);\n    if (past) {\n      rangeStartBase.setDate(now.getDate() - 30);\n      rangeEndBase.setDate(now.getDate() - 1);\n    } else {\n      rangeStartBase.setDate(now.getDate() - 1);\n      rangeEndBase.setDate(now.getDate() + 21);\n    }\n  \n    // Major calendar: past 120 days or next 60 days\n    const rangeStartMajor = new Date(now);\n    const rangeEndMajor = new Date(now);\n    if (past) {\n      rangeStartMajor.setDate(now.getDate() - 120);\n      rangeEndMajor.setDate(now.getDate() - 1);\n    } else {\n      rangeStartMajor.setDate(now.getDate() - 1);\n      rangeEndMajor.setDate(now.getDate() + 60);\n    }\n  \n    const timeMin_base = rangeStartBase.toISOString();\n    const timeMax_base = rangeEndBase.toISOString();\n    const timeMin_major = rangeStartMajor.toISOString();\n    const timeMax_major = rangeEndMajor.toISOString();\n  \n    const url_base = `https://www.googleapis.com/calendar/v3/calendars/${CALENDAR_ID}/events?key=${API_KEY}&timeMin=${timeMin_base}&timeMax=${timeMax_base}&singleEvents=true&orderBy=startTime`;\n    const url_major = `https://www.googleapis.com/calendar/v3/calendars/${MAJOR_CALENDAR_ID}/events?key=${API_KEY}&timeMin=${timeMin_major}&timeMax=${timeMax_major}&singleEvents=true&orderBy=startTime`;\n  \n    try {\n      const response = await fetch(url_base);\n      const data_basic = await response.json();\n  \n      const response_major = await fetch(url_major);\n      const data_major = await response_major.json();\n  \n      const combinedEvents = [...(data_basic.items || []), ...(data_major.items || [])];\n  \n      combinedEvents.sort((a, b) => {\n        const dateA = new Date(a.start.dateTime || a.start.date).getTime();\n        const dateB = new Date(b.start.dateTime || b.start.date).getTime();\n        return past ? dateB - dateA : dateA - dateB; // Descending for past\n      });\n  \n      return combinedEvents;\n    } catch (error) {\n      console.error(\"Error fetching events:\", error);\n      return [];\n    }\n  };\n  \nexport default fetchEvents;\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}